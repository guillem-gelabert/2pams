# Simple Caddyfile for 2pams Express.js app

{$DOMAIN:localhost} {
    reverse_proxy app:{$PORT:3000}
    log {
         output file /var/log/caddy/access.log
         format json
    }
}

dashboard.{$DOMAIN} {
    basic_auth / {
        {$DASHBOARD_USER} {$DASHBOARD_PASSWORD}
    }

    respond "2pams dashboard"
}